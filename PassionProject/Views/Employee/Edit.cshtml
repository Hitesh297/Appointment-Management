@model PassionProject.Models.EmployeeVM

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>
<h4>Employee</h4>
<hr />
<div class="page-container">
    <div id="form-section">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="form-horizontal">

                @*@Html.ValidationSummary(true, "", new { @class = "text-danger" })*@
                @*@Html.HiddenFor(model => model.Employee.EmployeeId)*@
                <input type="hidden" name="EmployeeId" value="@Model.Employee.EmployeeId" />
                <div class="form-group">
                    @*@Html.LabelFor(model => model.Fname, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Fname, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Fname, "", new { @class = "text-danger" })
                        </div>*@
                    <label>First Name:</label> <input type="text" name="Fname" value="@Model.Employee.Fname" />
                </div>

                <div class="form-group">
                    @*@Html.LabelFor(model => model.Lname, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Lname, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Lname, "", new { @class = "text-danger" })
                        </div>*@
                    <label>Last Name:</label> <input type="text" name="Lname" value="@Model.Employee.Lname" />
                </div>

                <div class="form-group">
                    @*@Html.LabelFor(model => model.DOJ, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.DOJ, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.DOJ, "", new { @class = "text-danger" })
                        </div>*@
                    <label>Date of Joining:</label> <input type="date" name="DOJ" value="@Model.Employee.DOJ.ToString("yyyy-MM-dd")" />
                </div>

                <div class="form-group">
                    @*@Html.LabelFor(model => model.Bio, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10">
                            @Html.EditorFor(model => model.Bio, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Bio, "", new { @class = "text-danger" })
                        </div>*@
                    <label>Bio:</label> <input type="text" name="Bio" value="@Model.Employee.Bio" />
                </div>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Save" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }
    </div>
    <div id="service-section">
        <label>Skills</label>
        <div id="skill-container">
            <ul>
                @foreach (var service in Model.ServicesAssigned)
                {
                    <li><a href="/Service/Details/@service.ServiceId">@service.Name</a> <a style="color:#ab2020;" href="/Employee/UnassociateService?id=@Model.Employee.EmployeeId&serviceId=@service.ServiceId">[x]</a></li>

                }
            </ul>
        </div>

        <form method="POST" action="/Employee/AssociateService/@Model.Employee.EmployeeId">
            <label>Add Skill:</label>
            <select name="serviceId">
                @foreach (var service in Model.ServicesAvailable)
                {
                    <option value="@service.ServiceId">@service.Name</option>
                }
            </select>
            <button>Add Skill</button>
        </form>
    </div>
</div>

<div>
    @Html.ActionLink("Back to List", "List")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
